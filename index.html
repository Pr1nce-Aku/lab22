<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PHP Лабораторная работа №2 - Основные конструкции языка</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        body {
            background: linear-gradient(135deg, #1a237e 0%, #4a148c 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        header {
            text-align: center;
            padding: 25px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            border: 2px solid rgba(103, 58, 183, 0.5);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff4081, #7c4dff, #00bcd4);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #ff4081, #7c4dff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            margin-bottom: 15px;
            color: #bb86fc;
        }

        .lab-info {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .info-item {
            text-align: center;
            flex: 1;
            min-width: 200px;
        }

        .info-item h3 {
            color: #00bcd4;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
        }

        @media (max-width: 1000px) {
            .content {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: rgba(18, 18, 30, 0.85);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid rgba(103, 58, 183, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s, border-color 0.3s;
            position: relative;
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            border-color: rgba(103, 58, 183, 0.6);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff4081, #7c4dff);
        }

        .card h2 {
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 2px solid #7c4dff;
            color: #bb86fc;
            font-size: 1.6rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card h2 i {
            color: #ff4081;
        }

        /* Блок вариантов */
        .variants-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .variant-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .variant-selector {
            display: flex;
            flex-direction: column;
            gap: 8px;
            flex: 1;
            min-width: 250px;
        }

        label {
            font-weight: bold;
            color: #00bcd4;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        select {
            padding: 12px 15px;
            border-radius: 8px;
            border: 2px solid #7c4dff;
            background: rgba(0, 0, 0, 0.4);
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-family: 'Consolas', monospace;
        }

        select:hover {
            background: rgba(0, 0, 0, 0.5);
            border-color: #bb86fc;
        }

        select:focus {
            outline: none;
            border-color: #ff4081;
            box-shadow: 0 0 0 3px rgba(124, 77, 255, 0.3);
        }

        .buttons-group {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: 'Consolas', monospace;
            min-width: 160px;
        }

        .btn-primary {
            background: linear-gradient(45deg, #7c4dff, #651fff);
            color: white;
        }

        .btn-primary:hover {
            background: linear-gradient(45deg, #651fff, #7c4dff);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(124, 77, 255, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #00bcd4, #0097a7);
            color: white;
        }

        .btn-secondary:hover {
            background: linear-gradient(45deg, #0097a7, #00bcd4);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 188, 212, 0.4);
        }

        .btn-danger {
            background: linear-gradient(45deg, #ff4081, #f50057);
            color: white;
        }

        .btn-danger:hover {
            background: linear-gradient(45deg, #f50057, #ff4081);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 64, 129, 0.4);
        }

        /* Таблица символов */
        .table-container {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 10px;
            padding: 25px;
            min-height: 350px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid rgba(255, 255, 255, 0.05);
            overflow: auto;
        }

        .symbol-table {
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 1.8rem;
            font-weight: bold;
            text-align: center;
            line-height: 2.2;
            letter-spacing: 12px;
            color: #69f0ae;
            text-shadow: 0 0 10px rgba(105, 240, 174, 0.5);
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            border: 1px solid rgba(105, 240, 174, 0.2);
        }

        .table-line {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 5px;
        }

        .symbol-cell {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(103, 58, 183, 0.2);
            border-radius: 6px;
            border: 1px solid rgba(103, 58, 183, 0.4);
            transition: all 0.3s;
            animation: pulse 2s infinite;
        }

        .symbol-cell:hover {
            transform: scale(1.2);
            background: rgba(103, 58, 183, 0.4);
            border-color: #ff4081;
            box-shadow: 0 0 15px rgba(255, 64, 129, 0.5);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 5px rgba(105, 240, 174, 0.3); }
            50% { box-shadow: 0 0 15px rgba(105, 240, 174, 0.6); }
            100% { box-shadow: 0 0 5px rgba(105, 240, 174, 0.3); }
        }

        /* Код PHP */
        .code-container {
            background: #1e1e1e;
            border-radius: 10px;
            overflow: hidden;
            border: 2px solid #333;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .code-header {
            background: #252525;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #333;
        }

        .code-header span {
            color: #bb86fc;
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .code-content {
            padding: 25px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            overflow-x: auto;
            color: #d4d4d4;
            min-height: 350px;
            max-height: 500px;
            overflow-y: auto;
            background: #1e1e1e;
        }

        .php-keyword { color: #569cd6; }
        .php-function { color: #dcdcaa; }
        .php-string { color: #ce9178; }
        .php-comment { color: #6a9955; }
        .php-variable { color: #9cdcfe; }
        .php-number { color: #b5cea8; }
        .php-operator { color: #d4d4d4; }

        /* Список вариантов */
        .variants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 12px;
            margin-top: 20px;
        }

        .variant-card {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .variant-card:hover {
            background: rgba(103, 58, 183, 0.3);
            border-color: #7c4dff;
            transform: translateY(-3px);
        }

        .variant-card.active {
            background: rgba(103, 58, 183, 0.5);
            border-color: #ff4081;
            box-shadow: 0 5px 15px rgba(124, 77, 255, 0.4);
        }

        .variant-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #ff4081, #7c4dff);
        }

        .variant-number {
            font-weight: bold;
            color: #00bcd4;
            font-size: 1.3rem;
            margin-bottom: 5px;
        }

        .variant-preview {
            font-size: 0.8rem;
            opacity: 0.8;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        /* Уведомления */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: linear-gradient(45deg, #00c853, #64dd17);
            color: white;
            border-radius: 8px;
            z-index: 1000;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            animation: slideIn 0.3s ease-out;
            display: flex;
            align-items: center;
            gap: 12px;
            border-left: 5px solid #1b5e20;
        }

        .notification.error {
            background: linear-gradient(45deg, #d32f2f, #f44336);
            border-left-color: #b71c1c;
        }

        .notification.info {
            background: linear-gradient(45deg, #1976d2, #2196f3);
            border-left-color: #0d47a1;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        /* Футер */
        footer {
            text-align: center;
            padding: 25px;
            margin-top: 20px;
            opacity: 0.8;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
        }

        .instructions {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border-left: 4px solid #00bcd4;
        }

        .instructions h3 {
            color: #00bcd4;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-code"></i> Лабораторная работа №2</h1>
            <p class="subtitle">Основные конструкции языка PHP - Циклы и условные операторы</p>
            
            <div class="lab-info">
                <div class="info-item">
                    <h3><i class="fas fa-list-ol"></i> Вариантов заданий</h3>
                    <p>15 вариантов</p>
                </div>
                <div class="info-item">
                    <h3><i class="fas fa-table"></i> Тип задания</h3>
                    <p>Таблицы символов</p>
                </div>
                <div class="info-item">
                    <h3><i class="fas fa-sync-alt"></i> Используются</h3>
                    <p>Только циклы (без массивов)</p>
                </div>
            </div>
        </header>

        <div class="content">
            <!-- Левый блок: Таблица и управление -->
            <div class="card">
                <h2><i class="fas fa-table"></i> Таблица символов</h2>
                
                <div class="variant-controls">
                    <div class="variant-selector">
                        <label for="variantSelect"><i class="fas fa-list-ol"></i> Выберите вариант:</label>
                        <select id="variantSelect">
                            <option value="1">Вариант 1 - Диагональная симметрия</option>
                            <option value="2">Вариант 2 - Треугольник уменьшения</option>
                            <option value="3">Вариант 3 - Обратный треугольник</option>
                            <option value="4">Вариант 4 - Прямоугольный треугольник</option>
                            <option value="5">Вариант 5 - Зеркальная замена</option>
                            <option value="6">Вариант 6 - Уменьшающийся ряд</option>
                            <option value="7">Вариант 7 - Диагональ и симметрия</option>
                            <option value="8">Вариант 8 - Обратный уменьшающийся</option>
                            <option value="9">Вариант 9 - Ромбовидный узор</option>
                            <option value="10">Вариант 10 - Возрастающий треугольник F</option>
                            <option value="11">Вариант 11 - Шахматная матрица</option>
                            <option value="12">Вариант 12 - Убывающий треугольник F</option>
                            <option value="13">Вариант 13 - Зеркальные строки</option>
                            <option value="14">Вариант 14 - Убывающие столбцы</option>
                            <option value="15">Вариант 15 - Ромб из букв</option>
                        </select>
                    </div>
                    
                    <div class="buttons-group">
                        <button id="runBtn" class="btn-primary">
                            <i class="fas fa-play-circle"></i> Выполнить вариант
                        </button>
                        <button id="prevBtn" class="btn-secondary">
                            <i class="fas fa-arrow-left"></i> Предыдущий
                        </button>
                        <button id="nextBtn" class="btn-secondary">
                            <i class="fas fa-arrow-right"></i> Следующий
                        </button>
                        <button id="resetBtn" class="btn-danger">
                            <i class="fas fa-redo"></i> Сбросить
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <div class="symbol-table" id="symbolOutput">
                        <div style="text-align: center; color: #bb86fc; font-size: 1.2rem;">
                            <i class="fas fa-mouse-pointer fa-2x" style="margin-bottom: 15px;"></i>
                            <p>Выберите вариант задания и нажмите "Выполнить"</p>
                            <p style="font-size: 1rem; margin-top: 10px; color: #00bcd4;">
                                Будет выведена таблица символов согласно выбранному варианту
                            </p>
                        </div>
                    </div>
                </div>
                
                <div class="instructions">
                    <h3><i class="fas fa-info-circle"></i> Инструкция</h3>
                    <p>Каждый вариант представляет собой уникальный шаблон таблицы символов, который должен быть выведен с использованием только циклов (без массивов). Используются различные типы циклов: for, while, do-while.</p>
                </div>
            </div>

            <!-- Правый блок: Код PHP и варианты -->
            <div class="card">
                <h2><i class="fas fa-code"></i> PHP Код решения</h2>
                
                <div class="code-container">
                    <div class="code-header">
                        <span><i class="fab fa-php"></i> Код для вывода таблицы символов</span>
                        <button id="copyCodeBtn" style="padding: 8px 15px; font-size: 0.9rem;" class="btn-secondary">
                            <i class="fas fa-copy"></i> Копировать код
                        </button>
                    </div>
                    <div class="code-content" id="codeOutput">
                        <span class="php-comment">// Выберите вариант задания слева</span>
                        <span class="php-comment">// Здесь появится PHP-код для вывода таблицы</span>
                    </div>
                </div>
                
                <h3><i class="fas fa-th-list"></i> Быстрый выбор варианта</h3>
                <div class="variants-grid" id="variantsGrid">
                    <!-- Варианты будут добавлены через JavaScript -->
                </div>
            </div>
        </div>

        <footer>
            <p>Лабораторная работа №2 по PHP | Основные конструкции языка | Вывод таблиц символов с использованием циклов</p>
            <p style="margin-top: 10px; font-size: 0.8rem; opacity: 0.7;">
                Используются циклы: for, while, do-while | Условные операторы: if, else, elseif
            </p>
        </footer>
    </div>

    <script>
        // Данные для всех 15 вариантов
        const variants = {
            1: {
                name: "Диагональная симметрия",
                pattern: [
                    "A D G J M",
                    "M D G J M",
                    "M J G J M",
                    "M J G D M",
                    "M J G D A"
                ],
                code: `<?php
// Вариант 1
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    for ($j = 0; $j < 5; $j++) {
        if ($i == 0) {
            // Первая строка: A D G J M
            echo chr(65 + $j * 3) . " ";
        } elseif ($i == 1) {
            // Вторая строка: M D G J M
            if ($j == 0 || $j == 4) echo "M ";
            else echo chr(65 + $j * 3) . " ";
        } elseif ($i == 2) {
            // Третья строка: M J G J M
            if ($j == 0 || $j == 4) echo "M ";
            else if ($j == 1 || $j == 3) echo "J ";
            else echo "G ";
        } elseif ($i == 3) {
            // Четвертая строка: M J G D M
            if ($j == 0 || $j == 4) echo "M ";
            else if ($j == 1) echo "J ";
            else if ($j == 2) echo "G ";
            else echo "D ";
        } else {
            // Пятая строка: M J G D A
            if ($j == 0) echo "M ";
            else if ($j == 1) echo "J ";
            else if ($j == 2) echo "G ";
            else if ($j == 3) echo "D ";
            else echo "A ";
        }
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            2: {
                name: "Треугольник уменьшения",
                pattern: [
                    "A B C D E F G H I",
                    "B C D E F G H",
                    "C D E F G",
                    "D E F",
                    "E"
                ],
                code: `<?php
// Вариант 2
echo "<pre>";
$letters = range('A', 'I');
for ($i = 0; $i < 5; $i++) {
    $count = 9 - 2 * $i;
    for ($j = 0; $j < $count; $j++) {
        echo $letters[$i + $j] . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            3: {
                name: "Обратный треугольник",
                pattern: [
                    "I",
                    "I G",
                    "I G E",
                    "I G E C",
                    "I G E C A"
                ],
                code: `<?php
// Вариант 3
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    $letter = 'I';
    for ($j = 0; $j <= $i; $j++) {
        echo $letter . " ";
        $letter = chr(ord($letter) - 2);
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            4: {
                name: "Прямоугольный треугольник",
                pattern: [
                    "A",
                    "B C",
                    "D E F",
                    "G H I J",
                    "K L M N O"
                ],
                code: `<?php
// Вариант 4
echo "<pre>";
$letter = 'A';
for ($i = 0; $i < 5; $i++) {
    for ($j = 0; $j <= $i; $j++) {
        echo $letter . " ";
        $letter++;
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            5: {
                name: "Зеркальная замена",
                pattern: [
                    "A B C D E",
                    "Z B C D E",
                    "Y Z C D E",
                    "X Y Z D E",
                    "W X Y Z E"
                ],
                code: `<?php
// Вариант 5
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    for ($j = 0; $j < 5; $j++) {
        if ($j < $i) {
            // Выводим буквы в обратном порядке
            echo chr(90 - $i + $j + 1) . " ";
        } else {
            // Выводим обычный алфавит
            echo chr(65 + $j) . " ";
        }
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            6: {
                name: "Уменьшающийся ряд",
                pattern: [
                    "A B C D E",
                    "B C D E",
                    "C D E",
                    "D E",
                    "E"
                ],
                code: `<?php
// Вариант 6
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    for ($j = $i; $j < 5; $j++) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            7: {
                name: "Диагональ и симметрия",
                pattern: [
                    "A B C D E",
                    "E A C D E",
                    "E D A D E",
                    "E D C A E",
                    "E D C B A"
                ],
                code: `<?php
// Вариант 7
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    for ($j = 0; $j < 5; $j++) {
        if ($i == $j) {
            // Диагональ
            echo "A ";
        } else if ($i + $j == 4) {
            // Обратная диагональ
            echo chr(69 - $i) . " ";
        } else if ($j < $i && $j < 5 - $i) {
            // Левый верхний треугольник
            echo "E ";
        } else if ($j > $i && $j > 5 - $i - 1) {
            // Правый нижний треугольник
            echo chr(65 + $j) . " ";
        } else {
            // Остальные
            echo chr(65 + $j) . " ";
        }
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            8: {
                name: "Обратный уменьшающийся",
                pattern: [
                    "A E D C B",
                    "B E D C",
                    "C E D",
                    "D E",
                    "E"
                ],
                code: `<?php
// Вариант 8
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    // Первая часть: возрастающая последовательность
    for ($j = 0; $j <= $i; $j++) {
        if ($j == 0) {
            echo chr(65 + $i) . " ";
        }
    }
    // Вторая часть: убывающая последовательность
    for ($j = 4; $j > $i; $j--) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            9: {
                name: "Ромбовидный узор",
                pattern: [
                    "A",
                    "B A B",
                    "C B A B C",
                    "D C B A B C D",
                    "C B A B C",
                    "B A B",
                    "A"
                ],
                code: `<?php
// Вариант 9
echo "<pre>";
$size = 4;
// Верхняя часть ромба
for ($i = 0; $i <= $size; $i++) {
    // Пробелы
    for ($j = $size; $j > $i; $j--) {
        echo "  ";
    }
    // Убывающая последовательность
    for ($j = $i; $j >= 0; $j--) {
        echo chr(65 + $j) . " ";
    }
    // Возрастающая последовательность
    for ($j = 1; $j <= $i; $j++) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
// Нижняя часть ромба
for ($i = $size - 1; $i >= 0; $i--) {
    // Пробелы
    for ($j = $size; $j > $i; $j--) {
        echo "  ";
    }
    // Убывающая последовательность
    for ($j = $i; $j >= 0; $j--) {
        echo chr(65 + $j) . " ";
    }
    // Возрастающая последовательность
    for ($j = 1; $j <= $i; $j++) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            10: {
                name: "Возрастающий треугольник F",
                pattern: [
                    "F",
                    "E F",
                    "D E F",
                    "C D E F",
                    "B C D E F",
                    "A B C D E F"
                ],
                code: `<?php
// Вариант 10
echo "<pre>";
for ($i = 0; $i < 6; $i++) {
    for ($j = $i; $j >= 0; $j--) {
        echo chr(70 - $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            11: {
                name: "Шахматная матрица",
                pattern: [
                    "F E D C B A",
                    "E F E D C B",
                    "D E F E D C",
                    "C D E F E D",
                    "B C D E F E",
                    "A B C D E F"
                ],
                code: `<?php
// Вариант 11
echo "<pre>";
for ($i = 0; $i < 6; $i++) {
    for ($j = 0; $j < 6; $j++) {
        $diff = abs($i - $j);
        echo chr(70 - $diff) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            12: {
                name: "Убывающий треугольник F",
                pattern: [
                    "F",
                    "F E",
                    "F E D",
                    "F E D C",
                    "F E D C B",
                    "F E D C B A"
                ],
                code: `<?php
// Вариант 12
echo "<pre>";
for ($i = 0; $i < 6; $i++) {
    for ($j = 0; $j <= $i; $j++) {
        echo chr(70 - $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            13: {
                name: "Зеркальные строки",
                pattern: [
                    "A B C D E",
                    "E D C B A",
                    "B A C D E",
                    "E D C B A",
                    "A B C D E"
                ],
                code: `<?php
// Вариант 13
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    if ($i % 2 == 0) {
        // Четные строки: прямая последовательность
        for ($j = 0; $j < 5; $j++) {
            echo chr(65 + $j) . " ";
        }
    } else {
        // Нечетные строки: обратная последовательность
        for ($j = 4; $j >= 0; $j--) {
            echo chr(65 + $j) . " ";
        }
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            14: {
                name: "Убывающие столбцы",
                pattern: [
                    "A B C D E",
                    "A B C D",
                    "A B C",
                    "A B",
                    "A"
                ],
                code: `<?php
// Вариант 14
echo "<pre>";
for ($i = 0; $i < 5; $i++) {
    for ($j = 0; $j < 5 - $i; $j++) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            },
            15: {
                name: "Ромб из букв",
                pattern: [
                    "A",
                    "A B A",
                    "A B C B A",
                    "A B C D C B A",
                    "A B C B A",
                    "A B A",
                    "A"
                ],
                code: `<?php
// Вариант 15
echo "<pre>";
$size = 3;
// Верхняя часть
for ($i = 0; $i <= $size; $i++) {
    for ($j = 0; $j <= $i; $j++) {
        echo chr(65 + $j) . " ";
    }
    for ($j = $i - 1; $j >= 0; $j--) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
// Нижняя часть
for ($i = $size - 1; $i >= 0; $i--) {
    for ($j = 0; $j <= $i; $j++) {
        echo chr(65 + $j) . " ";
    }
    for ($j = $i - 1; $j >= 0; $j--) {
        echo chr(65 + $j) . " ";
    }
    echo "\\n";
}
echo "</pre>";
?>`
            }
        };

        // Текущий выбранный вариант
        let currentVariant = 1;

        // Элементы DOM
        const variantSelect = document.getElementById('variantSelect');
        const symbolOutput = document.getElementById('symbolOutput');
        const codeOutput = document.getElementById('codeOutput');
        const runBtn = document.getElementById('runBtn');
        const prevBtn = document.getElementById('prevBtn');
        const nextBtn = document.getElementById('nextBtn');
        const resetBtn = document.getElementById('resetBtn');
        const copyCodeBtn = document.getElementById('copyCodeBtn');
        const variantsGrid = document.getElementById('variantsGrid');

        // Инициализация сетки вариантов
        function initVariantsGrid() {
            variantsGrid.innerHTML = '';
            for (let i = 1; i <= 15; i++) {
                const variantCard = document.createElement('div');
                variantCard.className = 'variant-card';
                variantCard.dataset.variant = i;
                
                variantCard.innerHTML = `
                    <div class="variant-number">${i}</div>
                    <div class="variant-preview">${variants[i].name}</div>
                `;
                
                if (i === currentVariant) {
                    variantCard.classList.add('active');
                }
                
                variantCard.addEventListener('click', () => {
                    variantSelect.value = i;
                    currentVariant = i;
                    updateActiveVariant();
                    updateCodeDisplay();
                    runVariant();
                });
                
                variantsGrid.appendChild(variantCard);
            }
        }

        // Обновление активного варианта
        function updateActiveVariant() {
            document.querySelectorAll('.variant-card').forEach(card => {
                if (parseInt(card.dataset.variant) === currentVariant) {
                    card.classList.add('active');
                } else {
                    card.classList.remove('active');
                }
            });
        }

        // Форматирование PHP кода с подсветкой
        function formatPHPCode(code) {
            return code
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;')
                .replace(/<\?php/g, '<span class="php-keyword">&lt;?php</span>')
                .replace(/\?>/g, '<span class="php-keyword">?&gt;</span>')
                .replace(/\b(for|if|else|elseif|echo|chr|ord|range|abs)\b/g, '<span class="php-keyword">$1</span>')
                .replace(/\b(65|69|70|90|5|6|4|3|0|1|2)\b/g, '<span class="php-number">$1</span>')
                .replace(/\/\/.*$/gm, '<span class="php-comment">$&</span>')
                .replace(/\$[a-zA-Z_][a-zA-Z0-9_]*/g, '<span class="php-variable">$&</span>')
                .replace(/"([^"]*)"/g, '<span class="php-string">"$1"</span>')
                .replace(/\\n/g, '<span class="php-string">\\n</span>')
                .replace(/(\+|\-|\*|\/|=|==|<=|>=|<|>)/g, '<span class="php-operator">$1</span>');
        }

        // Обновление отображения кода
        function updateCodeDisplay() {
            const variant = variants[currentVariant];
            const formattedCode = formatPHPCode(variant.code);
            codeOutput.innerHTML = formattedCode;
        }

        // Выполнение варианта
        function runVariant() {
            const variant = variants[currentVariant];
            
            // Создаем визуальное представление таблицы
            let outputHTML = '';
            
            variant.pattern.forEach(line => {
                const symbols = line.split(' ');
                outputHTML += '<div class="table-line">';
                
                symbols.forEach(symbol => {
                    if (symbol) {
                        outputHTML += `<div class="symbol-cell">${symbol}</div>`;
                    }
                });
                
                outputHTML += '</div>';
            });
            
            symbolOutput.innerHTML = outputHTML;
            
            // Анимация
            symbolOutput.style.transform = 'scale(1.05)';
            symbolOutput.style.transition = 'transform 0.3s';
            
            setTimeout(() => {
                symbolOutput.style.transform = 'scale(1)';
            }, 300);
            
            // Показываем уведомление
            showNotification(`Выполнен вариант ${currentVariant}: ${variant.name}`, 'success');
        }

        // Переход к предыдущему варианту
        function prevVariant() {
            currentVariant = currentVariant > 1 ? currentVariant - 1 : 15;
            variantSelect.value = currentVariant;
            updateActiveVariant();
            updateCodeDisplay();
            runVariant();
        }

        // Переход к следующему варианту
        function nextVariant() {
            currentVariant = currentVariant < 15 ? currentVariant + 1 : 1;
            variantSelect.value = currentVariant;
            updateActiveVariant();
            updateCodeDisplay();
            runVariant();
        }

        // Сброс
        function resetDisplay() {
            symbolOutput.innerHTML = `
                <div style="text-align: center; color: #bb86fc; font-size: 1.2rem;">
                    <i class="fas fa-mouse-pointer fa-2x" style="margin-bottom: 15px;"></i>
                    <p>Выберите вариант задания и нажмите "Выполнить"</p>
                    <p style="font-size: 1rem; margin-top: 10px; color: #00bcd4;">
                        Будет выведена таблица символов согласно выбранному варианту
                    </p>
                </div>
            `;
            
            currentVariant = 1;
            variantSelect.value = 1;
            updateActiveVariant();
            updateCodeDisplay();
            showNotification('Сброшено к начальному состоянию', 'info');
        }

        // Копирование кода
        function copyCode() {
            const variant = variants[currentVariant];
            navigator.clipboard.writeText(variant.code)
                .then(() => {
                    showNotification('PHP код скопирован в буфер обмена!', 'success');
                    
                    // Визуальная обратная связь
                    copyCodeBtn.innerHTML = '<i class="fas fa-check"></i> Скопировано!';
                    copyCodeBtn.style.background = 'linear-gradient(45deg, #00c853, #64dd17)';
                    
                    setTimeout(() => {
                        copyCodeBtn.innerHTML = '<i class="fas fa-copy"></i> Копировать код';
                        copyCodeBtn.style.background = 'linear-gradient(45deg, #00bcd4, #0097a7)';
                    }, 2000);
                })
                .catch(err => {
                    showNotification('Ошибка при копировании кода', 'error');
                    console.error('Ошибка копирования: ', err);
                });
        }

        // Показать уведомление
        function showNotification(message, type) {
            // Удаляем старые уведомления
            document.querySelectorAll('.notification').forEach(n => n.remove());
            
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : 'info-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // Удаляем уведомление через 3 секунды
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-out';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Инициализация при загрузке
        document.addEventListener('DOMContentLoaded', () => {
            initVariantsGrid();
            updateCodeDisplay();
            
            // Обработчики событий
            variantSelect.addEventListener('change', (e) => {
                currentVariant = parseInt(e.target.value);
                updateActiveVariant();
                updateCodeDisplay();
                runVariant();
            });
            
            runBtn.addEventListener('click', runVariant);
            prevBtn.addEventListener('click', prevVariant);
            nextBtn.addEventListener('click', nextVariant);
            resetBtn.addEventListener('click', resetDisplay);
            copyCodeBtn.addEventListener('click', copyCode);
            
            // Автоматический запуск первого варианта
            setTimeout(runVariant, 500);
            
            // Добавляем обработчики клавиатуры
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') {
                    prevVariant();
                } else if (e.key === 'ArrowRight') {
                    nextVariant();
                } else if (e.key === 'Enter' || e.key === ' ') {
                    runVariant();
                } else if (e.key === 'Escape') {
                    resetDisplay();
                }
            });
        });
    </script>
</body>
</html>